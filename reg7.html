<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improved Solar System Simulation</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: black;
            color: white;
            font-family: 'Courier New', Courier, monospace;
        }

        #ui {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 10;
            color: white;
        }

        button,
        input[type=range] {
            margin: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid white;
            border-radius: 5px;
        }

        button:hover,
        input[type=range]:hover {
            background: rgba(255, 255, 255, 0.4);
        }
    </style>
</head>

<body>
    <canvas id="solarSystem"></canvas>

    <div id="ui">
        <button id="pauseResumeButton">Pause</button>
        <button id="resetButton">Reset</button>
        <label>Speed: <span id="speedLabel">1x</span></label>
        <input type="range" id="speedSlider" min="1" max="20" step="1" value="1">
    </div>

    <script>
        const canvas = document.getElementById('solarSystem');
        const ctx = canvas.getContext('2d');
        let width = window.innerWidth;
        let height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;

        const G = Math.PI / 180;  // Degrees to radians conversion factor
        const AU = 150;  // Arbitrary unit for astronomical distances

        // Planet data: [radius in AU, orbital period in seconds]
        const planets = [
            { name: 'Mercury', radius: 0.39 * AU, period: 88 },
            { name: 'Venus', radius: 0.72 * AU, period: 225 },
            { name: 'Earth', radius: 1.00 * AU, period: 365 },
            { name: 'Mars', radius: 1.52 * AU, period: 687 },
            { name: 'Jupiter', radius: 5.20 * AU, period: 4332 },
            { name: 'Saturn', radius: 9.58 * AU, period: 10585 },
            { name: 'Uranus', radius: 19.18 * AU, period: 30687 },
            { name: 'Neptune', radius: 30.07 * AU, period: 60190 }
        ];

        let running = true;
        let simulationTime = 0;
        let speedMultiplier = 1;

        const pauseResumeButton = document.getElementById('pauseResumeButton');
        const resetButton = document.getElementById('resetButton');
        const speedSlider = document.getElementById('speedSlider');
        const speedLabel = document.getElementById('speedLabel');

        // Button controls
        pauseResumeButton.addEventListener('click', () => {
            running = !running;
            pauseResumeButton.textContent = running ? 'Pause' : 'Resume';
        });

        resetButton.addEventListener('click', () => {
            simulationTime = 0; // Reset time to zero
            if (!running) {
                running = true;
                pauseResumeButton.textContent = 'Pause';
            }
        });

        speedSlider.addEventListener('input', () => {
            speedMultiplier = speedSlider.value;
            speedLabel.textContent = `${speedMultiplier}x`;
        });

        function drawSun() {
            ctx.beginPath();
            ctx.arc(width / 2, height / 2, 40, 0, 2 * Math.PI);
            ctx.fillStyle = 'yellow';
            ctx.fill();
            ctx.strokeStyle = 'orange';
            ctx.lineWidth = 4;
            ctx.stroke();
        }

        function drawPlanet(planet, time) {
            const angle = (2 * Math.PI * time) / planet.period;
            const x = width / 2 + planet.radius * Math.cos(angle);
            const y = height / 2 + planet.radius * Math.sin(angle);

            ctx.beginPath();
            ctx.arc(x, y, 10, 0, 2 * Math.PI);
            ctx.fillStyle = 'white';
            ctx.fill();
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);

            // Draw sun
            drawSun();

            if (running) {
                simulationTime += 1 * speedMultiplier;  // Time progression
            }

            // Draw planets
            for (const planet of planets) {
                drawPlanet(planet, simulationTime);
            }

            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>

</html>